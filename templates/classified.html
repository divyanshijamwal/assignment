{% extends "base.html" %}
{% block title %}Classified Transactions (5, 6, 7) - Reconciliation{% endblock %}
{% block content %}
<h4 class="mb-4">Transactions Classified as 5, 6 & 7</h4>

<div class="mb-4">
    <span class="badge bg-success me-2">5 = {{ labels[5] }}</span>
    <span class="badge bg-warning text-dark me-2">6 = {{ labels[6] }}</span>
    <span class="badge bg-danger">7 = {{ labels[7] }}</span>
</div>

<div class="accordion" id="accordionClass">
    <div class="accordion-item">
        <h2 class="accordion-header">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#class5">
                <span class="badge bg-success me-2">5</span> Present in Both (Statement & Settlement)
            </button>
        </h2>
        <div id="class5" class="accordion-collapse collapse show" data-bs-parent="#accordionClass">
            <div class="accordion-body">
                <h6>From Statement</h6>
                <div class="table-responsive mb-3">{{ stmt_5 | safe }}</div>
                <h6>From Settlement</h6>
                <div class="table-responsive">{{ sett_5 | safe }}</div>
            </div>
        </div>
    </div>
    <div class="accordion-item">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#class6">
                <span class="badge bg-warning text-dark me-2">6</span> Present in Settlement but NOT in Statement
            </button>
        </h2>
        <div id="class6" class="accordion-collapse collapse" data-bs-parent="#accordionClass">
            <div class="accordion-body">
                <p class="text-muted">Classification 6 appears only in Settlement file.</p>
                <h6>From Settlement</h6>
                <div class="table-responsive">{{ sett_6 | safe }}</div>
            </div>
        </div>
    </div>
    <div class="accordion-item">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#class7">
                <span class="badge bg-danger me-2">7</span> Present in Statement but NOT in Settlement
            </button>
        </h2>
        <div id="class7" class="accordion-collapse collapse" data-bs-parent="#accordionClass">
            <div class="accordion-body">
                <p class="text-muted">Classification 7 appears only in Statement file.</p>
                <h6>From Statement</h6>
                <div class="table-responsive">{{ stmt_7 | safe }}</div>
            </div>
        </div>
    </div>
</div>

<div class="mt-4">
    <a href="{{ url_for('index') }}" class="btn btn-primary">Upload New Files</a>
</div>
{% endblock %}
